const a8_0x439bf2=a8_0x3b11;(function(_0x4d95b4,_0x15db1d){const _0x5eb3c3=a8_0x3b11,_0xe0924f=_0x4d95b4();while(!![]){try{const _0x11c140=-parseInt(_0x5eb3c3(0x1ed))/0x1*(-parseInt(_0x5eb3c3(0x211))/0x2)+-parseInt(_0x5eb3c3(0x204))/0x3*(-parseInt(_0x5eb3c3(0x21b))/0x4)+parseInt(_0x5eb3c3(0x21c))/0x5*(parseInt(_0x5eb3c3(0x1f2))/0x6)+-parseInt(_0x5eb3c3(0x1f9))/0x7*(-parseInt(_0x5eb3c3(0x20c))/0x8)+parseInt(_0x5eb3c3(0x20e))/0x9*(-parseInt(_0x5eb3c3(0x209))/0xa)+parseInt(_0x5eb3c3(0x1f7))/0xb+parseInt(_0x5eb3c3(0x1f6))/0xc*(-parseInt(_0x5eb3c3(0x212))/0xd);if(_0x11c140===_0x15db1d)break;else _0xe0924f['push'](_0xe0924f['shift']());}catch(_0xc455f5){_0xe0924f['push'](_0xe0924f['shift']());}}}(a8_0x1e1d,0x92362));function a8_0x3b11(_0x506823,_0x17363e){const _0x1e1d81=a8_0x1e1d();return a8_0x3b11=function(_0x3b11cd,_0x287ce8){_0x3b11cd=_0x3b11cd-0x1ea;let _0x236fb3=_0x1e1d81[_0x3b11cd];return _0x236fb3;},a8_0x3b11(_0x506823,_0x17363e);}const {messageBufferMAXLENGTH}=require(a8_0x439bf2(0x205)),{getSheetID,getDriveID}=require('../util/files'),{data2Stream}=require(a8_0x439bf2(0x20d)),{isFiltered,isFilteredPhone,normalizeArabic,Sleep}=require(a8_0x439bf2(0x1ea)),{renderKeywords}=require(a8_0x439bf2(0x1fb)),terminal=require('../util/terminal'),getGroups=async()=>{const _0x5db496=a8_0x439bf2;let _0x370d57=await client['getChats'](),_0x12c2f9=await _0x370d57['filter'](_0x3c9c9f=>_0x3c9c9f['isGroup']==!![]&&_0x3c9c9f[_0x5db496(0x21e)]!=undefined&&_0x3c9c9f['id'][_0x5db496(0x22a)]!=global[_0x5db496(0x1eb)]);return _0x12c2f9=_0x12c2f9[_0x5db496(0x1f0)](_0x457e00=>({'name':_0x457e00[_0x5db496(0x21e)],'chatid':_0x457e00['id'][_0x5db496(0x22a)]})),_0x12c2f9;},storeMedia=async(_0x137557,_0x443254)=>{const _0x1b0705=a8_0x439bf2,_0x2937da=getDriveID();if(_0x2937da=='')return terminal[_0x1b0705(0x1ff)]('[WARN!]\x20Google\x20Drive\x20Is\x20Not\x20Configured\x20Yet',0x1),'';const _0x1e3451=await _0x137557[_0x1b0705(0x21d)](),_0x170450=await data2Stream(_0x1e3451,_0x443254);try{const _0x51c9ee=await global[_0x1b0705(0x1f1)][_0x1b0705(0x201)](_0x2937da,_0x170450);return _0x51c9ee[_0x1b0705(0x228)]['webViewLink'];}catch(_0x29170c){terminal[_0x1b0705(0x206)](_0x1b0705(0x216)+_0x29170c);}},isRepeated=async({message:_0x58b2cb,phone:_0x350d87})=>{const _0x5c026f=a8_0x439bf2,_0x3b5708=messageBuffer[_0x5c026f(0x221)](_0x4d6180=>_0x4d6180[_0x5c026f(0x1f5)]==_0x58b2cb&&_0x4d6180[_0x5c026f(0x222)]==_0x350d87);return _0x3b5708;},isMatchText=(_0x3dd130,_0xbb8af6)=>{const _0x1336a6=a8_0x439bf2;_0xbb8af6=normalizeArabic(_0xbb8af6);if(_0xbb8af6[_0x1336a6(0x226)]('++')){let _0x5ce636=_0xbb8af6[_0x1336a6(0x1f4)]('++')[_0x1336a6(0x1f0)](_0x30ba02=>_0x30ba02[_0x1336a6(0x220)]())[_0x1336a6(0x230)](_0x3f836d=>_0x3f836d!=='');return _0x5ce636[_0x1336a6(0x219)](_0x589eba=>_0x3dd130[_0x1336a6(0x226)](_0x589eba));}else return _0x3dd130[_0x1336a6(0x226)](_0xbb8af6);},replaceVariables=async _0x1c8e51=>{const _0x2a75d5=a8_0x439bf2;try{const _0xb0944b=/\[([a-zA-Z]+)!([A-Z]{1,2}\d+)\]/g;let _0x4eb3cc=[..._0x1c8e51[_0x2a75d5(0x238)](_0xb0944b)];if(_0x4eb3cc[_0x2a75d5(0x22c)]>0x0)for await(const _0x2b769f of _0x4eb3cc){let _0x49974f=_0x2b769f[0x0],_0x4de44a=_0x2b769f[0x1],_0x3553d6=_0x2b769f[0x2];console[_0x2a75d5(0x239)](_0x49974f,_0x4de44a,_0x3553d6);let _0x16c885=await global[_0x2a75d5(0x1f3)][_0x2a75d5(0x234)][_0x4de44a];await _0x16c885[_0x2a75d5(0x1ee)](_0x3553d6),await Sleep(0xc8);let _0x19d831=String((await _0x16c885[_0x2a75d5(0x214)](_0x3553d6))[_0x2a75d5(0x1fc)]);_0x1c8e51=await _0x1c8e51[_0x2a75d5(0x218)](_0x49974f,_0x19d831);}}catch(_0x40366b){terminal[_0x2a75d5(0x1ff)](_0x2a75d5(0x227),0x1);}return _0x1c8e51;},receivedmsgHandler=async _0x1b40f8=>{const _0xc4899d=a8_0x439bf2,_0x5f0beb=new Date(),_0x2793e8=_0x5f0beb[_0xc4899d(0x20a)](_0xc4899d(0x1fa))+'\x20'+_0x5f0beb[_0xc4899d(0x217)](_0xc4899d(0x224));let _0x330ff2=await _0x1b40f8[_0xc4899d(0x208)]();const _0xd3bba8=_0x330ff2[_0xc4899d(0x22d)],_0x403e8a=_0xd3bba8?_0x1b40f8['from']:'private',_0x5d6763=_0xd3bba8?_0x1b40f8[_0xc4899d(0x21a)][_0xc4899d(0x1f4)]('@')[0x0]:_0x1b40f8['from']['split']('@')[0x0];let _0xafc5b1=_0xd3bba8?(await getGroups())['filter'](_0x3aa8e3=>_0x3aa8e3['chatid']==_0x403e8a)[0x0][_0xc4899d(0x21e)]:'Private';const _0x1d7f40=normalizeArabic(_0x1b40f8[_0xc4899d(0x236)]);if(await isFiltered(_0x1d7f40)){terminal[_0xc4899d(0x1ff)]('['+_0x2793e8+_0xc4899d(0x1fd)+_0xafc5b1+'-'+_0x5d6763,0x1);return;}if(await isFilteredPhone(_0x5d6763)){terminal[_0xc4899d(0x1ff)]('['+_0x2793e8+_0xc4899d(0x20f)+_0xafc5b1+'-'+_0x5d6763,0x1);return;}if(await isRepeated({'message':_0x1d7f40,'phone':_0x5d6763})){terminal[_0xc4899d(0x1ff)]('['+_0x2793e8+_0xc4899d(0x207)+_0xafc5b1+'-'+_0x5d6763,0x1);return;}for(const _0x1e656d of global['conditions']){let _0x30d378=_0x1e656d[_0xc4899d(0x215)][_0xc4899d(0x221)](_0x55bc3b=>_0x55bc3b[_0xc4899d(0x229)]==_0x403e8a||_0xd3bba8&&_0x55bc3b[_0xc4899d(0x229)]=='allgroups'||_0xd3bba8&&_0x55bc3b[_0xc4899d(0x229)]==_0xc4899d(0x210)&&_0x55bc3b[_0xc4899d(0x210)][_0xc4899d(0x219)](_0x10f2bd=>_0x10f2bd[_0xc4899d(0x229)]!=_0x403e8a)),_0x3855ee=_0x1e656d['keywords']['some'](_0x4097c6=>{const _0x3979e4=_0xc4899d;if(Array['isArray'](_0x4097c6)){let _0x6596d0=!![];return _0x4097c6[_0x3979e4(0x237)](_0x1543e1=>{const _0xf6d0dc=_0x3979e4;Array[_0xf6d0dc(0x1ec)](_0x1543e1)?_0x6596d0=_0x6596d0&&_0x1543e1[_0xf6d0dc(0x221)](_0x17431f=>{return _0x17431f=normalizeArabic(_0x17431f),_0x1d7f40['includes'](_0x17431f);}):_0x6596d0=_0x6596d0&&isMatchText(_0x1d7f40,_0x1543e1);}),_0x6596d0;}else return isMatchText(_0x1d7f40,_0x4097c6);}),_0x3a2b9a=_0x1e656d[_0xc4899d(0x225)][_0xc4899d(0x221)](_0x138065=>{const _0xbe8ce2=_0xc4899d;if(Array[_0xbe8ce2(0x1ec)](_0x138065)){let _0x535142=!![];return _0x138065[_0xbe8ce2(0x237)](_0x20c2e=>{const _0x5a8ddb=_0xbe8ce2;Array[_0x5a8ddb(0x1ec)](_0x20c2e)?_0x535142=_0x535142&&_0x20c2e[_0x5a8ddb(0x221)](_0x1e1c30=>{const _0x192dee=_0x5a8ddb;return _0x1e1c30=normalizeArabic(_0x1e1c30),_0x1d7f40[_0x192dee(0x226)](_0x1e1c30);}):_0x535142=_0x535142&&isMatchText(_0x1d7f40,_0x20c2e);}),_0x535142;}else return isMatchText(_0x1d7f40,_0x138065);});if(_0x30d378)_0x330ff2[_0xc4899d(0x202)]();if(_0x30d378&&_0x3855ee&&!_0x3a2b9a){const _0x202724=getSheetID();if(_0x202724=='')return;let _0x50930f=renderKeywords(_0x1e656d[_0xc4899d(0x200)]),_0x2b2816=_0x1b40f8[_0xc4899d(0x22f)]?await storeMedia(_0x1b40f8,_0x5d6763):'';const _0x1ce2fb=[_0x2793e8,_0x5d6763,_0xafc5b1,_0x1d7f40,_0x2b2816,_0x1e656d['name'],_0x50930f];terminal[_0xc4899d(0x1ff)]('['+_0x2793e8+_0xc4899d(0x1fe)+_0xafc5b1+'-'+_0x5d6763+'=>'+_0x1b40f8[_0xc4899d(0x213)]+'\x20'+_0x50930f);const _0x40e4e4=_0x1e656d[_0xc4899d(0x232)][_0xc4899d(0x1f8)];try{Gsheet[_0xc4899d(0x22b)](_0x40e4e4,_0x1ce2fb);}catch(_0x19fa85){terminal[_0xc4899d(0x206)]('['+_0x2793e8+_0xc4899d(0x223)+_0x19fa85);}_0x1e656d['reply']&&_0xd3bba8&&_0x1b40f8[_0xc4899d(0x235)](await replaceVariables(_0x1e656d[_0xc4899d(0x235)]));_0x1e656d[_0xc4899d(0x233)]&&client[_0xc4899d(0x203)](_0x5d6763+_0xc4899d(0x21f),await replaceVariables(_0x1e656d[_0xc4899d(0x233)]));let _0x172231=messageBuffer['length'];_0x172231>messageBufferMAXLENGTH&&messageBuffer[_0xc4899d(0x20b)](0x0,_0x172231-messageBufferMAXLENGTH),global[_0xc4899d(0x22e)][_0xc4899d(0x231)]({'message':_0x1d7f40,'phone':_0x5d6763});}}};function a8_0x1e1d(){const _0x277734=[']\x20[ERROR!]\x20Sending\x20to\x20Google\x20Sheets:','en-EG','blockedkeywords','includes','[WARN!]\x20Cannot\x20get\x20variables\x0amake\x20sure\x20the\x20variables\x20worksheet\x20exists','data','chatid','_serialized','addMatch','length','isGroup','messageBuffer','hasMedia','filter','push','gsheet','replyprivate','sheetsByTitle','reply','body','forEach','matchAll','log','../util/misc','GroupID','isArray','20TYNILL','loadCells','exports','map','Gdrive','1094826lTMQxZ','GSpreadsheet','split','message','21816tIEuuU','9085538ULvdeR','sheetId','7125713rvTDlC','en-GB','./controlMsgHandler','formattedValue',']\x20[FILTERED\x20WORD!]\x20',']\x20[MATCH!]\x20','logger','keywords','createFile','sendSeen','sendMessage','6ITdrab','../config','red',']\x20[REPEATED\x20MESSAGE!]\x20','getChat','130810htdsAf','toLocaleDateString','splice','8utzuCk','../util/dataOps','522fYqdFz',']\x20[FILTERED\x20PHONE!]\x20','except','83322KKChFf','23686mtuXxS','type','getCellByA1','applicable','[ERROR!]\x20Uploading\x20File\x20to\x20Gdrive:','toLocaleTimeString','replace','every','author','2160968urOyXd','25qlmDOP','downloadMedia','name','@c.us','trim','some','phone'];a8_0x1e1d=function(){return _0x277734;};return a8_0x1e1d();}module[a8_0x439bf2(0x1ef)]={'receivedmsgHandler':receivedmsgHandler};